<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Nested Condition & Multi-Branch Decisions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            color-scheme: light;
        }

        .slide {
            display: none;
        }

        .slide.active {
            display: block;
        }

        .code {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            white-space: pre;
            overflow: auto;
        }

        .chip {
            user-select: none;
        }

        .kbd {
            font-family: ui-monospace, monospace;
            border: 1px solid #e5e7eb;
            padding: .1rem .35rem;
            border-radius: .4rem;
            background: #f9fafb;
        }

        .pulse {
            animation: pulse 1.2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1
            }

            50% {
                opacity: .45
            }
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-900">
     <!-- Access Code Overlay (case-insensitive) -->
    <div id="accessOverlay" style="position:fixed;inset:0;background:rgba(0,0,0,.85);backdrop-filter:blur(6px);
            z-index:9999;display:flex;align-items:center;justify-content:center;">
        <div role="dialog" aria-labelledby="accessTitle" aria-modal="true" style="background:#fff;color:#222;padding:32px 28px;border-radius:22px;
              box-shadow:0 16px 48px rgba(102,126,234,.25);text-align:center;
              width:min(95vw,380px);border:1px solid #e0e7ff;">
            <h2 id="accessTitle" style="margin:0 0 12px;color:#667eea;font-size:1.85rem;
               text-shadow:0 1px 6px #e0e7ff;">üîí Kode Akses</h2>
            <p style="margin:0 0 16px;font-size:1.05rem;color:#5B4494;">
                Masukkan kode untuk membuka slide
            </p>

            <input id="accessCodeInput" type="text" placeholder="Kode akses" style="padding:14px 16px;font-size:17px;border-radius:14px;
                  border:1.5px solid #667eea;width:90%;outline:none;
                  box-shadow:0 2px 8px #e0e7ff inset;background:#fff;
                  transition:border-color .2s, box-shadow .2s;" />
            <button id="accessBtn" style="margin-top:10px;background:linear-gradient(90deg,#667eea 0%,#764ba2 100%);
                   color:#fff;border:none;padding:12px 0;border-radius:14px;font-weight:700;
                   cursor:pointer;width:100%;font-size:1.05rem;
                   box-shadow:0 6px 18px rgba(102,126,234,.25);
                   transition:transform .08s ease, box-shadow .2s ease;">
                Buka
            </button>

            <div id="accessError" style="color:#dc2626;margin-top:12px;display:none;font-size:0.98rem;">
                Kode salah, coba lagi.
            </div>

            <div style="margin-top:12px;color:#6b7280;font-size:.9rem">
                Tekan <span style="font-family:ui-monospace;border:1px solid #e5e7eb;
                         padding:2px 6px;border-radius:6px">Enter</span> untuk submit
            </div>
        </div>
    </div>


    <script>
        // === ACCESS CODE (RGMDSMS25, case-insensitive) ===
        (function () {
            const overlay = document.getElementById('accessOverlay');
            const input = document.getElementById('accessCodeInput');
            const btn = document.getElementById('accessBtn');
            const errorEl = document.getElementById('accessError');
            const PASS = 'RGMDSHS25';

            function unlock() { if (overlay) overlay.style.display = 'none'; }
            function check() {
                const val = (input?.value || '').trim().toUpperCase();
                if (val === PASS) { unlock(); }
                else { if (errorEl) errorEl.style.display = 'block'; }
            }

            btn?.addEventListener('click', check);
            input?.addEventListener('keydown', (e) => { if (e.key === 'Enter') check(); });

            // Fokus otomatis ke input
            setTimeout(() => input?.focus(), 0);
        })();
    </script>
    <!-- Header -->
    <header class="sticky top-0 z-30 bg-white/90 backdrop-blur border-b border-slate-200">
        <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-3">
            <div class="flex items-center gap-3">
                <div class="w-9 h-9 rounded-xl bg-slate-900 text-white grid place-items-center font-bold">25</div>
                <div>
                    <div class="font-semibold leading-tight">Nested Condition & Multi-Branch Decisions</div>
                    <div class="text-xs text-slate-600">SMA ‚Ä¢ Python</div>
                </div>
            </div>

            <div class="flex items-center gap-2">
                <button id="btnPrev" class="px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm">‚Üê
                    Prev</button>
                <button id="btnNext"
                    class="px-3 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800 text-sm">Next ‚Üí</button>
            </div>
        </div>
    </header>

    <!-- Main -->
    <main class="max-w-6xl mx-auto px-4 py-6">
        <!-- Progress -->
        <div class="mb-5">
            <div class="flex items-center justify-between text-xs text-slate-600 mb-2">
                <div>Shortcut: <span class="kbd">‚Üê</span> <span class="kbd">‚Üí</span> / <span class="kbd">Space</span>
                </div>
                <div><span id="counter">1</span>/<span id="total">1</span></div>
            </div>
            <div class="w-full h-2 bg-slate-200 rounded-full overflow-hidden">
                <div id="bar" class="h-2 bg-slate-900 rounded-full" style="width:0%"></div>
            </div>
        </div>

        <!-- Slides -->
        <!-- SLIDE 1 -->
        <section class="slide active" data-title="Tujuan & Warm-up">
            <div class="grid lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h1 class="text-2xl font-bold">Hari ini belajar bikin keputusan bertingkat ‚úÖ</h1>
                    <p class="mt-3 text-slate-700">
                        Dalam pemrograman, keputusan sering bergantung pada keputusan sebelumnya. Itu yang disebut
                        <b>nested condition</b> (if di dalam if) dan <b>multi-branch</b> (banyak cabang if‚Äìelif‚Äìelse).
                    </p>

                    <div class="mt-4 grid sm:grid-cols-2 gap-3">
                        <div class="rounded-xl border border-slate-200 p-4">
                            <div class="text-sm font-semibold">Target Pembelajaran</div>
                            <ul class="mt-2 text-sm text-slate-700 list-disc pl-5 space-y-1">
                                <li>Paham nested condition & multi-branch</li>
                                <li>Bisa menulis if‚Äìelif‚Äìelse bertingkat</li>
                                <li>Bisa melacak alur logika (decision tree)</li>
                                <li>Bisa uji & perbaiki bug percabangan</li>
                            </ul>
                        </div>
                        <div class="rounded-xl border border-slate-200 p-4">
                            <div class="text-sm font-semibold">Aturan Main</div>
                            <ul class="mt-2 text-sm text-slate-700 list-disc pl-5 space-y-1">
                                <li>Jangan menebak‚Äî<b>trace</b> langkah program</li>
                                <li>Tuliskan kondisi dari yang paling menentukan</li>
                                <li>Kalau bingung: gambar decision tree</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-5 rounded-xl bg-slate-50 border border-slate-200 p-4">
                        <div class="text-sm font-semibold">Warm-up (klik jawaban)</div>
                        <p class="text-sm text-slate-700 mt-2">Contoh: kamu boleh mengemudi kalau‚Ä¶</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <button class="warm px-3 py-2 rounded-lg border border-slate-200 hover:bg-white text-sm"
                                data-correct="false">punya helm</button>
                            <button class="warm px-3 py-2 rounded-lg border border-slate-200 hover:bg-white text-sm"
                                data-correct="true">usia ‚â• 17 <b>dan</b> punya SIM</button>
                            <button class="warm px-3 py-2 rounded-lg border border-slate-200 hover:bg-white text-sm"
                                data-correct="false">punya motor</button>
                            <button class="warm px-3 py-2 rounded-lg border border-slate-200 hover:bg-white text-sm"
                                data-correct="false">pakai jaket</button>
                        </div>
                        <div id="warmFeedback" class="mt-3 text-sm font-medium text-slate-700"></div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Kenapa nested sering bikin pusing?</h2>
                    <p class="mt-2 text-slate-700">
                        Nested yang terlalu dalam (mis. lebih dari 3 tingkat) bikin kode:
                        sulit dibaca, rawan bug, dan susah dites. Solusinya: <b>multi-branch</b> yang rapi atau <b>exit
                            early</b>.
                    </p>

                    <div class="mt-5 rounded-xl border border-slate-200 p-4">
                        <div class="text-sm font-semibold mb-2">Mini Demo: Visual Trace</div>
                        <p class="text-sm text-slate-700">Klik tombol untuk melihat ide ‚Äújalur keputusan‚Äù.</p>
                        <div class="mt-3 flex gap-2">
                            <button id="traceBtn1"
                                class="px-3 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800 text-sm">Trace
                                contoh (Akses Aplikasi)</button>
                            <button id="traceReset1"
                                class="px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm">Reset</button>
                        </div>
                        <div id="traceBox1" class="mt-3 text-sm text-slate-800 leading-relaxed"></div>
                    </div>

                    <div class="mt-5 text-xs text-slate-500">
                        Materi inti: nested usia+SIM, decision tree, contoh akses aplikasi, dan teknik ‚ÄúExit Early‚Äù.
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 2 -->
        <section class="slide" data-title="Nested Condition: Usia & SIM">
            <div class="grid lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Nested Condition (if di dalam if)</h2>
                    <p class="mt-2 text-slate-700">
                        Logika: cek <b>usia</b> dulu. Hanya kalau lolos, baru cek <b>punya SIM</b>.
                    </p>

                    <div class="mt-4 rounded-xl border border-slate-200 p-4">
                        <div class="text-sm font-semibold flex items-center justify-between gap-3">
                            <span>Contoh Python</span>
                            <button
                                class="copy px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-50 text-xs"
                                data-copy="py1">Copy</button>
                        </div>
                        <div id="py1" class="mt-3 code text-sm bg-slate-950 text-slate-50 rounded-xl p-4">
                            usia = 18
                            punya_sim = True

                            if usia >= 17:
                            print("Selamat! Usia Anda memenuhi syarat.")
                            if punya_sim:
                            print("Anda diizinkan mengemudi.")
                            else:
                            print("Anda perlu membuat SIM terlebih dahulu.")
                            else:
                            print("Usia belum memenuhi syarat mengemudi.")
                        </div>
                        <p class="mt-3 text-sm text-slate-700">
                            Coba di Colab: ubah <b>usia</b> dan <b>punya_sim</b>, lalu jalankan.
                        </p>
                    </div>

                    <div class="mt-5 rounded-xl bg-slate-50 border border-slate-200 p-4">
                        <div class="text-sm font-semibold">Pertanyaan cepat</div>
                        <p class="text-sm text-slate-700 mt-1">Kalau usia = 16 dan punya_sim = True, outputnya apa?</p>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <button class="q1 px-3 py-2 rounded-lg border border-slate-200 hover:bg-white text-sm"
                                data-ans="A">A) Lolos usia, lalu diizinkan</button>
                            <button class="q1 px-3 py-2 rounded-lg border border-slate-200 hover:bg-white text-sm"
                                data-ans="B">B) Usia belum memenuhi syarat</button>
                            <button class="q1 px-3 py-2 rounded-lg border border-slate-200 hover:bg-white text-sm"
                                data-ans="C">C) Perlu membuat SIM</button>
                        </div>
                        <div id="q1fb" class="mt-3 text-sm font-medium"></div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Simulator Keputusan (Interaktif)</h2>
                    <p class="mt-2 text-slate-700">
                        Geser input ‚Üí lihat <b>jalur</b> yang diambil program.
                    </p>

                    <div class="mt-4 rounded-2xl border border-slate-200 p-5">
                        <div class="grid sm:grid-cols-2 gap-4">
                            <div>
                                <label class="text-sm font-medium">Usia: <span id="ageVal"
                                        class="font-semibold">18</span></label>
                                <input id="age" type="range" min="10" max="25" value="18" class="w-full mt-2">
                            </div>
                            <div>
                                <label class="text-sm font-medium">Punya SIM?</label>
                                <div class="mt-2 flex items-center gap-3">
                                    <input id="hasSim" type="checkbox" class="w-5 h-5" checked>
                                    <span id="simLabel" class="text-sm text-slate-700">True</span>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 grid sm:grid-cols-2 gap-4">
                            <div class="rounded-xl bg-slate-50 border border-slate-200 p-4">
                                <div class="text-xs text-slate-500">Jejak keputusan</div>
                                <ol id="traceNested" class="mt-2 text-sm text-slate-800 list-decimal pl-5 space-y-1">
                                </ol>
                            </div>
                            <div class="rounded-xl bg-slate-900 text-white p-4">
                                <div class="text-xs text-slate-300">Output program</div>
                                <div id="outputNested" class="mt-2 text-sm font-semibold leading-relaxed"></div>
                            </div>
                        </div>

                        <div class="mt-4 flex gap-2">
                            <button id="randomCase"
                                class="px-3 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800 text-sm">Random
                                Case</button>
                            <button id="showRule"
                                class="px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm">Tampilkan
                                aturan</button>
                        </div>
                        <div id="ruleBox" class="mt-3 text-sm text-slate-700"></div>
                    </div>

                    <div class="mt-5 text-xs text-slate-500">
                        Tip: saat men-debug, tulis ‚Äúkondisi mana yang dicek dulu‚Äù dan ‚Äúkapan program masuk blok dalam‚Äù.
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 3 -->
        <section class="slide" data-title="Multi-Branch: if‚Äìelif‚Äìelse">
            <div class="grid lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Multi-Branch = banyak cabang</h2>
                    <p class="mt-2 text-slate-700">
                        Kalau kondisinya banyak, gunakan <b>elif</b> agar rapi.
                        Ini membantu mencegah nested berlebihan.
                    </p>

                    <div class="mt-4 rounded-xl border border-slate-200 p-4">
                        <div class="text-sm font-semibold flex items-center justify-between gap-3">
                            <span>Contoh: Predikat Nilai</span>
                            <button
                                class="copy px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-50 text-xs"
                                data-copy="py2">Copy</button>
                        </div>
                        <div id="py2" class="mt-3 code text-sm bg-slate-950 text-slate-50 rounded-xl p-4">
                            nilai = 86

                            if nilai >= 90:
                            predikat = "A"
                            elif nilai >= 80:
                            predikat = "B"
                            elif nilai >= 70:
                            predikat = "C"
                            else:
                            predikat = "D"

                            print("Nilai:", nilai, "Predikat:", predikat)
                        </div>
                        <p class="mt-3 text-sm text-slate-700">
                            Aturan penting: urutan kondisi <b>dari yang paling tinggi</b> (atau paling spesifik) dulu.
                        </p>
                    </div>

                    <div class="mt-5 rounded-xl bg-slate-50 border border-slate-200 p-4">
                        <div class="text-sm font-semibold">Cek pemahaman</div>
                        <p class="text-sm text-slate-700 mt-1">Kenapa urutan elif di atas tidak boleh dibalik (70 dulu,
                            90 belakangan)?</p>
                        <details class="mt-2">
                            <summary class="cursor-pointer text-sm font-medium">Lihat jawabannya</summary>
                            <p class="mt-2 text-sm text-slate-700">
                                Karena kondisi 70 lebih ‚Äúlonggar‚Äù. Jika 70 ditaruh dulu, nilai 95 akan keburu masuk
                                cabang 70 dan tidak pernah mencapai cabang 90.
                            </p>
                        </details>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Interaktif: Nilai ‚Üí Predikat</h2>
                    <p class="mt-2 text-slate-700">Geser nilai, lihat cabang elif yang terpilih.</p>

                    <div class="mt-4 rounded-2xl border border-slate-200 p-5">
                        <label class="text-sm font-medium">Nilai: <span id="scoreVal"
                                class="font-semibold">86</span></label>
                        <input id="score" type="range" min="0" max="100" value="86" class="w-full mt-2">

                        <div class="mt-4 grid sm:grid-cols-2 gap-4">
                            <div class="rounded-xl bg-slate-50 border border-slate-200 p-4">
                                <div class="text-xs text-slate-500">Cabang yang aktif</div>
                                <div id="branchActive" class="mt-2 text-sm font-semibold"></div>
                                <div id="branchWhy" class="mt-1 text-sm text-slate-700"></div>
                            </div>
                            <div class="rounded-xl bg-slate-900 text-white p-4">
                                <div class="text-xs text-slate-300">Output</div>
                                <div class="mt-2 text-sm">
                                    Predikat: <span id="gradeOut" class="font-bold text-lg">B</span>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 rounded-xl border border-slate-200 p-4">
                            <div class="text-sm font-semibold">Tugas mini</div>
                            <p class="text-sm text-slate-700 mt-1">
                                Tambahkan predikat <b>A+</b> untuk nilai ‚â• 98 (di Python). Tempel dari tombol Copy, ubah
                                kodenya, lalu run.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 4 -->
        <section class="slide" data-title="Decision Tree (Visualisasi)">
            <div class="grid lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Decision Tree = peta alur logika</h2>
                    <p class="mt-2 text-slate-700">
                        Decision tree membantu kita ‚Äúmelihat‚Äù titik keputusan (node) dan hasil (cabang/daun).
                    </p>

                    <div class="mt-4 rounded-xl border border-slate-200 p-4">
                        <div class="text-sm font-semibold">Contoh kasus: Akses Aplikasi</div>
                        <p class="text-sm text-slate-700 mt-2">
                            1) Punya akun? ‚Üí 2) Password benar? ‚Üí 3) Premium? ‚Üí hasil akses
                        </p>
                        <div class="mt-3 flex gap-2">
                            <button id="autoTree"
                                class="px-3 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800 text-sm">Bangun
                                tree otomatis</button>
                            <button id="resetTree"
                                class="px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm">Reset</button>
                        </div>
                    </div>

                    <div class="mt-5 rounded-xl bg-slate-50 border border-slate-200 p-4">
                        <div class="text-sm font-semibold">Kenapa ini penting?</div>
                        <ul class="mt-2 text-sm text-slate-700 list-disc pl-5 space-y-1">
                            <li>Memudahkan debug: kamu tahu ‚Äúnode mana‚Äù yang salah.</li>
                            <li>Memudahkan refactor: pilih kondisi ‚Äúpenolakan cepat‚Äù untuk exit early.</li>
                            <li>Membuat logika lebih mudah dijelaskan saat presentasi.</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Interaktif: Pilih Jalur Decision Tree</h2>
                    <p class="mt-2 text-slate-700">Klik jawaban untuk membentuk jalur dari Node 1 ‚Üí hasil.</p>

                    <div class="mt-4 rounded-2xl border border-slate-200 p-5">
                        <div class="grid sm:grid-cols-3 gap-3">
                            <div class="rounded-xl border border-slate-200 p-4">
                                <div class="text-xs text-slate-500">Node 1</div>
                                <div class="font-semibold">Punya akun?</div>
                                <div class="mt-2 flex flex-col gap-2">
                                    <button
                                        class="treeBtn px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                        data-step="1" data-val="Ya">Ya</button>
                                    <button
                                        class="treeBtn px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                        data-step="1" data-val="Tidak">Tidak</button>
                                </div>
                            </div>

                            <div class="rounded-xl border border-slate-200 p-4">
                                <div class="text-xs text-slate-500">Node 2</div>
                                <div class="font-semibold">Password benar?</div>
                                <div class="mt-2 flex flex-col gap-2">
                                    <button
                                        class="treeBtn px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                        data-step="2" data-val="Ya">Ya</button>
                                    <button
                                        class="treeBtn px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                        data-step="2" data-val="Tidak">Tidak</button>
                                </div>
                            </div>

                            <div class="rounded-xl border border-slate-200 p-4">
                                <div class="text-xs text-slate-500">Node 3</div>
                                <div class="font-semibold">Premium?</div>
                                <div class="mt-2 flex flex-col gap-2">
                                    <button
                                        class="treeBtn px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                        data-step="3" data-val="Ya">Ya</button>
                                    <button
                                        class="treeBtn px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                        data-step="3" data-val="Tidak">Tidak</button>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 grid sm:grid-cols-2 gap-4">
                            <div class="rounded-xl bg-slate-50 border border-slate-200 p-4">
                                <div class="text-xs text-slate-500">Jalur terpilih</div>
                                <div id="treePath" class="mt-2 text-sm font-semibold text-slate-900">‚Äî</div>
                                <div id="treeHint" class="mt-1 text-sm text-slate-700">Mulai dari Node 1.</div>
                            </div>
                            <div class="rounded-xl bg-slate-900 text-white p-4">
                                <div class="text-xs text-slate-300">Hasil</div>
                                <div id="treeResult" class="mt-2 text-sm font-semibold">‚Äî</div>
                            </div>
                        </div>

                        <div class="mt-4 rounded-xl border border-slate-200 p-4">
                            <div class="text-sm font-semibold flex items-center justify-between gap-3">
                                <span>Generate Python dari jalur</span>
                                <button
                                    class="copy px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-50 text-xs"
                                    data-copy="py3">Copy</button>
                            </div>
                            <div id="py3" class="mt-3 code text-sm bg-slate-950 text-slate-50 rounded-xl p-4">
                                # Klik pilihan di tree dulu untuk menghasilkan kode :)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 5 -->
        <section class="slide" data-title="Debugging: Spot the Bug">
            <div class="grid lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Spot-the-bug üîé</h2>
                    <p class="mt-2 text-slate-700">
                        Bug percabangan sering terjadi karena <b>indentasi</b> dan <b>urutan kondisi</b>.
                        Pilih bug yang kamu temukan, lalu lihat penjelasannya.
                    </p>

                    <div class="mt-4 rounded-xl border border-slate-200 p-4">
                        <div class="text-sm font-semibold flex items-center justify-between gap-3">
                            <span>Kode (bermasalah)</span>
                            <button
                                class="copy px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-50 text-xs"
                                data-copy="pyBug">Copy</button>
                        </div>
                        <div id="pyBug" class="mt-3 code text-sm bg-slate-950 text-slate-50 rounded-xl p-4">
                            usia = 18
                            punya_sim = False

                            if usia >= 17:
                            print("Selamat! Usia Anda memenuhi syarat.")
                            if punya_sim:
                            print("Anda diizinkan mengemudi.")
                            else:
                            print("Anda perlu membuat SIM terlebih dahulu.")
                        </div>

                        <div class="mt-4">
                            <div class="text-sm font-semibold">Bug apa yang terjadi?</div>
                            <div class="mt-2 flex flex-col gap-2">
                                <button
                                    class="bugOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                    data-bug="indent">
                                    A) <b>Indentasi salah</b> ‚Äî pengecekan SIM tidak berada di dalam blok usia
                                </button>
                                <button
                                    class="bugOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                    data-bug="logic">
                                    B) <b>Logika salah</b> ‚Äî else menempel ke if yang salah (karena struktur)
                                </button>
                                <button
                                    class="bugOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                    data-bug="both">
                                    C) <b>Keduanya</b>
                                </button>
                            </div>
                            <div id="bugExplain" class="mt-3 text-sm font-medium text-slate-800"></div>
                        </div>
                    </div>

                    <div class="mt-5 rounded-xl bg-slate-50 border border-slate-200 p-4">
                        <div class="text-sm font-semibold">Perbaikan yang benar</div>
                        <p class="text-sm text-slate-700 mt-1">Pastikan pengecekan SIM berada di dalam blok usia.</p>
                        <div class="mt-2 code text-sm bg-white border border-slate-200 rounded-xl p-4">
                            if usia >= 17:
                            print("Selamat! Usia Anda memenuhi syarat.")
                            if punya_sim:
                            print("Anda diizinkan mengemudi.")
                            else:
                            print("Anda perlu membuat SIM terlebih dahulu.")
                            else:
                            print("Usia belum memenuhi syarat mengemudi.")
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Debugging Checklist (cepat)</h2>
                    <div class="mt-3 grid gap-3">
                        <div class="rounded-xl border border-slate-200 p-4">
                            <div class="text-sm font-semibold">1) Trace input ‚Üí output</div>
                            <p class="text-sm text-slate-700 mt-1">Coba 3‚Äì4 variasi input untuk memetakan cabang yang
                                aktif.</p>
                        </div>
                        <div class="rounded-xl border border-slate-200 p-4">
                            <div class="text-sm font-semibold">2) Tulis decision tree</div>
                            <p class="text-sm text-slate-700 mt-1">Kalau kamu bisa gambar tree, kamu bisa koding
                                if/elif-nya.</p>
                        </div>
                        <div class="rounded-xl border border-slate-200 p-4">
                            <div class="text-sm font-semibold">3) Cek urutan elif</div>
                            <p class="text-sm text-slate-700 mt-1">Kondisi lebih spesifik/lebih besar harus lebih dulu.
                            </p>
                        </div>
                        <div class="rounded-xl border border-slate-200 p-4">
                            <div class="text-sm font-semibold">4) Cek indentasi</div>
                            <p class="text-sm text-slate-700 mt-1">Indentasi menentukan ‚Äúkode ini bagian cabang mana?‚Äù.
                            </p>
                        </div>
                    </div>

                    <div class="mt-5 rounded-2xl bg-slate-900 text-white p-5">
                        <div class="text-sm font-semibold">Challenge (30 detik)</div>
                        <p class="text-sm text-slate-200 mt-1">
                            Kapan output ‚ÄúAnda perlu membuat SIM terlebih dahulu.‚Äù boleh muncul?
                        </p>
                        <button id="challengeBtn"
                            class="mt-3 px-3 py-2 rounded-lg bg-white text-slate-900 hover:bg-slate-100 text-sm">Tampilkan
                            jawaban</button>
                        <div id="challengeAns" class="mt-3 text-sm font-semibold"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 6 -->
        <section class="slide" data-title="Refactor: Exit Early">
            <div class="grid lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                    <h2 class="text-xl font-bold">Teknik: Exit Early (Keluar Cepat)</h2>
                    <p class="mt-2 text-slate-700">
                        Identifikasi kondisi yang paling cepat membuat ‚Äúgagal‚Äù, lalu langsung <b>keluar</b>.
                        Ini mengurangi nested yang terlalu dalam.
                    </p>

                    <div class="mt-4 rounded-xl border border-slate-200 p-4">
                        <div class="text-sm font-semibold">Sebelum (nested)</div>
                        <div class="mt-2 code text-sm bg-slate-950 text-slate-50 rounded-xl p-4">
                            if usia >= 17:
                            if punya_sim:
                            print("Boleh mengemudi")
                            else:
                            print("Buat SIM dulu")
                            else:
                            print("Belum cukup umur")
                        </div>

                        <div class="mt-4 text-sm font-semibold">Sesudah (exit early)</div>
                        <div class="mt-2 code text-sm bg-slate-950 text-slate-50 rounded-xl p-4">
                            if usia < 17: print("Belum cukup umur") elif not punya_sim: print("Buat SIM dulu") else:
                                print("Boleh mengemudi") </div>
                        </div>

                        <div class="mt-5 rounded-xl bg-slate-50 border border-slate-200 p-4">
                            <div class="text-sm font-semibold">Latihan Refactor</div>
                            <p class="text-sm text-slate-700 mt-1">
                                Ubah nested ‚ÄúAkses Aplikasi‚Äù menjadi exit early (tanpa nested lebih dari 1 tingkat).
                            </p>
                            <button id="showRefactorHint"
                                class="mt-2 px-3 py-2 rounded-lg border border-slate-200 hover:bg-white text-sm">Tampilkan
                                kerangka jawaban</button>
                            <div id="refactorHint" class="mt-3 hidden">
                                <div class="flex items-center justify-between gap-3">
                                    <div class="text-sm font-semibold">Kerangka Python</div>
                                    <button
                                        class="copy px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-50 text-xs"
                                        data-copy="pyRef">Copy</button>
                                </div>
                                <div id="pyRef" class="mt-2 code text-sm bg-slate-950 text-slate-50 rounded-xl p-4">
                                    punya_akun = True
                                    password_benar = True
                                    premium = False

                                    if not punya_akun:
                                    print("Daftar akun baru")
                                    elif not password_benar:
                                    print("Password salah (error)")
                                    elif premium:
                                    print("Akses penuh (premium)")
                                    else:
                                    print("Akses standar")
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                        <h2 class="text-xl font-bold">Interaktif: Pilih ‚Äúpenolakan cepat‚Äù</h2>
                        <p class="mt-2 text-slate-700">
                            Klik kondisi yang paling cepat menyebabkan gagal. Urutanmu akan dinilai.
                        </p>

                        <div class="mt-4 rounded-2xl border border-slate-200 p-5">
                            <div class="text-sm font-semibold">Kasus: Akses Aplikasi</div>
                            <p class="text-sm text-slate-700 mt-1">Pilih urutan kondisi dari ‚Äúgagal tercepat‚Äù ‚Üí
                                berikutnya.</p>

                            <div class="mt-3 flex flex-wrap gap-2">
                                <button
                                    class="pick chip px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                    data-key="akun">Tidak punya akun</button>
                                <button
                                    class="pick chip px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                    data-key="pass">Password salah</button>
                                <button
                                    class="pick chip px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                    data-key="premium">Bukan premium</button>
                            </div>

                            <div class="mt-4 grid sm:grid-cols-2 gap-4">
                                <div class="rounded-xl bg-slate-50 border border-slate-200 p-4">
                                    <div class="text-xs text-slate-500">Urutanmu</div>
                                    <ol id="orderList" class="mt-2 text-sm list-decimal pl-5 space-y-1"></ol>
                                </div>
                                <div class="rounded-xl bg-slate-900 text-white p-4">
                                    <div class="text-xs text-slate-300">Feedback</div>
                                    <div id="orderFb" class="mt-2 text-sm font-semibold">Klik chip di atas.</div>
                                </div>
                            </div>

                            <div class="mt-4 flex gap-2">
                                <button id="checkOrder"
                                    class="px-3 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800 text-sm">Cek</button>
                                <button id="resetOrder"
                                    class="px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm">Reset</button>
                            </div>
                        </div>

                        <div class="mt-5 text-xs text-slate-500">
                            Catatan: ‚ÄúBukan premium‚Äù bukan penolakan awal‚Äîpengguna tetap bisa akses standar.
                        </div>
                    </div>
                </div>
        </section>

        <!-- SLIDE 7 -->
        <section class="slide" data-title="Checkout Quiz (Mini)">
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                <div class="flex items-start justify-between gap-4 flex-wrap">
                    <div>
                        <h2 class="text-xl font-bold">Mini Quiz</h2>
                        <p class="mt-2 text-slate-700">
                            Kerjakan cepat untuk cek pemahaman. Skor hanya untuk latihan.
                        </p>
                    </div>
                    <div class="rounded-xl bg-slate-900 text-white px-4 py-3">
                        <div class="text-xs text-slate-300">Skor</div>
                        <div class="text-lg font-bold"><span id="quizScore">0</span>/5</div>
                    </div>
                </div>

                <div class="mt-5 grid lg:grid-cols-2 gap-5">
                    <!-- Q1 -->
                    <div class="rounded-2xl border border-slate-200 p-5">
                        <div class="text-sm font-semibold">1) Output apa untuk usia=16, punya_sim=True?</div>
                        <div class="mt-3 flex flex-col gap-2">
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="1" data-correct="true">Usia belum memenuhi syarat mengemudi.</button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="1" data-correct="false">Anda diizinkan mengemudi.</button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="1" data-correct="false">Anda perlu membuat SIM terlebih dahulu.</button>
                        </div>
                        <div id="qfb1" class="mt-2 text-sm font-medium"></div>
                    </div>

                    <!-- Q2 -->
                    <div class="rounded-2xl border border-slate-200 p-5">
                        <div class="text-sm font-semibold">2) Multi-branch: Kenapa urutan elif penting?</div>
                        <div class="mt-3 flex flex-col gap-2">
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="2" data-correct="true">Karena cabang pertama yang True akan dieksekusi dan
                                sisanya dilewati.</button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="2" data-correct="false">Karena Python menjalankan semua cabang
                                sekaligus.</button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="2" data-correct="false">Karena elif tidak boleh dipakai dengan if.</button>
                        </div>
                        <div id="qfb2" class="mt-2 text-sm font-medium"></div>
                    </div>

                    <!-- Q3 -->
                    <div class="rounded-2xl border border-slate-200 p-5">
                        <div class="text-sm font-semibold">3) Decision tree membantu terutama untuk‚Ä¶</div>
                        <div class="mt-3 flex flex-col gap-2">
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="3" data-correct="true">Memvisualisasikan alur keputusan dan memudahkan
                                debugging.</button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="3" data-correct="false">Mengubah Python jadi bahasa lain otomatis.</button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="3" data-correct="false">Mengganti semua if menjadi for.</button>
                        </div>
                        <div id="qfb3" class="mt-2 text-sm font-medium"></div>
                    </div>

                    <!-- Q4 -->
                    <div class="rounded-2xl border border-slate-200 p-5">
                        <div class="text-sm font-semibold">4) Exit early artinya‚Ä¶</div>
                        <div class="mt-3 flex flex-col gap-2">
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="4" data-correct="true">Memeriksa kondisi penolakan terlebih dulu agar nested
                                berkurang.</button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="4" data-correct="false">Menambah nested agar aman.</button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="4" data-correct="false">Menghapus semua elif.</button>
                        </div>
                        <div id="qfb4" class="mt-2 text-sm font-medium"></div>
                    </div>

                    <!-- Q5 -->
                    <div class="rounded-2xl border border-slate-200 p-5 lg:col-span-2">
                        <div class="text-sm font-semibold">5) Perbaiki bug ini (pilih jawaban terbaik):</div>
                        <div class="mt-3 code text-sm bg-slate-950 text-slate-50 rounded-xl p-4">
                            if usia >= 17:
                            print("Syarat usia ok")
                            if punya_sim:
                            print("Boleh mengemudi")
                            else:
                            print("Buat SIM dulu")
                        </div>
                        <div class="mt-3 flex flex-col gap-2">
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="5" data-correct="true">
                                Masukkan pengecekan SIM ke dalam blok usia (indentasi).
                            </button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="5" data-correct="false">
                                Ganti semua if jadi print saja.
                            </button>
                            <button
                                class="quizOpt px-3 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-sm"
                                data-q="5" data-correct="false">
                                Tambahkan elif tanpa mengubah indentasi.
                            </button>
                        </div>
                        <div id="qfb5" class="mt-2 text-sm font-medium"></div>
                    </div>
                </div>

                <div class="mt-6 rounded-2xl bg-slate-50 border border-slate-200 p-5">
                    <div class="text-sm font-semibold">Next step (praktik di Colab)</div>
                    <ul class="mt-2 text-sm text-slate-700 list-disc pl-5 space-y-1">
                        <li>Coba 5 kombinasi input untuk kasus ‚Äúakses aplikasi‚Äù dan pastikan hasilnya sesuai decision
                            tree.</li>
                        <li>Refactor: buat versi exit early untuk mengurangi nested.</li>
                        <li>Tambahkan 1 aturan baru (mis. ‚Äúakun terkunci‚Äù).</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <!-- Toast -->
    <div id="toast" class="fixed bottom-5 left-1/2 -translate-x-1/2 hidden z-50">
        <div class="bg-slate-900 text-white px-4 py-2 rounded-xl shadow-lg text-sm">Copied!</div>
    </div>

    <script>
        // ---------- Slide engine ----------
        const slides = [...document.querySelectorAll(".slide")];
        const total = document.getElementById("total");
        const counter = document.getElementById("counter");
        const bar = document.getElementById("bar");
        const btnPrev = document.getElementById("btnPrev");
        const btnNext = document.getElementById("btnNext");
        total.textContent = slides.length;

        let idx = 0;
        function show(i) {
            idx = Math.max(0, Math.min(slides.length - 1, i));
            slides.forEach((s, k) => s.classList.toggle("active", k === idx));
            counter.textContent = (idx + 1);
            bar.style.width = (((idx + 1) / slides.length) * 100).toFixed(1) + "%";
            btnPrev.disabled = idx === 0;
            btnNext.disabled = idx === slides.length - 1;
            btnPrev.classList.toggle("opacity-40", btnPrev.disabled);
            btnNext.classList.toggle("opacity-40", btnNext.disabled);
            window.scrollTo({ top: 0, behavior: "smooth" });
        }
        btnPrev.addEventListener("click", () => show(idx - 1));
        btnNext.addEventListener("click", () => show(idx + 1));
        window.addEventListener("keydown", (e) => {
            if (["ArrowRight", " ", "PageDown"].includes(e.key)) show(idx + 1);
            if (["ArrowLeft", "PageUp"].includes(e.key)) show(idx - 1);
        });

        // ---------- Copy ----------
        const toast = document.getElementById("toast");
        function popToast(msg = "Copied!") {
            toast.querySelector("div").textContent = msg;
            toast.classList.remove("hidden");
            setTimeout(() => toast.classList.add("hidden"), 900);
        }
        document.querySelectorAll(".copy").forEach(btn => {
            btn.addEventListener("click", async () => {
                const id = btn.dataset.copy;
                const el = document.getElementById(id);
                const text = el ? el.textContent.replace(/\n\s+\n/g, "\n\n").trim() : "";
                try {
                    await navigator.clipboard.writeText(text);
                    popToast("Copied ke clipboard");
                } catch (err) {
                    popToast("Gagal copy (izin browser)");
                }
            });
        });

        // ---------- Slide 1: Warm-up ----------
        const warmFeedback = document.getElementById("warmFeedback");
        document.querySelectorAll(".warm").forEach(b => {
            b.addEventListener("click", () => {
                const ok = b.dataset.correct === "true";
                warmFeedback.className = "mt-3 text-sm font-medium " + (ok ? "text-emerald-700" : "text-rose-700");
                warmFeedback.textContent = ok
                    ? "‚úÖ Betul. Ini keputusan bertingkat: cek usia dulu, lalu cek SIM."
                    : "‚ùå Belum tepat. Fokus pada syarat keputusan, bukan atribut tambahan.";
            });
        });

        // ---------- Slide 1: Trace demo ----------
        const traceBox1 = document.getElementById("traceBox1");
        document.getElementById("traceBtn1").addEventListener("click", () => {
            traceBox1.innerHTML = `
        <div class="rounded-xl border border-slate-200 bg-white p-3">
          <div class="text-xs text-slate-500">Contoh jejak (simulasi)</div>
          <ol class="mt-2 list-decimal pl-5 space-y-1 text-sm">
            <li>Cek: punya_akun?</li>
            <li>Jika tidak ‚Üí hasil: daftar akun baru</li>
            <li>Jika ya ‚Üí cek: password_benar?</li>
            <li>Jika tidak ‚Üí hasil: tampilkan error</li>
            <li>Jika ya ‚Üí cek: premium?</li>
            <li>Jika ya ‚Üí akses penuh ‚Ä¢ jika tidak ‚Üí akses standar</li>
          </ol>
        </div>`;
        });
        document.getElementById("traceReset1").addEventListener("click", () => traceBox1.textContent = "");

        // ---------- Slide 2: Q1 ----------
        const q1fb = document.getElementById("q1fb");
        document.querySelectorAll(".q1").forEach(b => {
            b.addEventListener("click", () => {
                const ans = b.dataset.ans;
                const ok = ans === "B";
                q1fb.className = "mt-3 text-sm font-medium " + (ok ? "text-emerald-700" : "text-rose-700");
                q1fb.textContent = ok
                    ? "‚úÖ Benar. Karena usia < 17, program masuk else paling luar."
                    : "‚ùå Salah. Untuk usia < 17, pengecekan SIM tidak dijalankan.";
            });
        });

        // ---------- Slide 2: Nested simulator ----------
        const age = document.getElementById("age");
        const ageVal = document.getElementById("ageVal");
        const hasSim = document.getElementById("hasSim");
        const simLabel = document.getElementById("simLabel");
        const traceNested = document.getElementById("traceNested");
        const outputNested = document.getElementById("outputNested");
        const ruleBox = document.getElementById("ruleBox");
        function renderNested() {
            const u = Number(age.value);
            const s = hasSim.checked;

            ageVal.textContent = u;
            simLabel.textContent = s ? "True" : "False";

            const steps = [];
            steps.push(`Cek kondisi 1: usia >= 17 ? (${u} >= 17 ‚Üí ${u >= 17})`);
            if (u >= 17) {
                steps.push(`Masuk blok usia. Cek kondisi 2: punya_sim ? (${s})`);
                if (s) {
                    outputNested.innerHTML = "Selamat! Usia Anda memenuhi syarat.<br/>Anda diizinkan mengemudi.";
                    steps.push("Output: diizinkan mengemudi");
                } else {
                    outputNested.innerHTML = "Selamat! Usia Anda memenuhi syarat.<br/>Anda perlu membuat SIM terlebih dahulu.";
                    steps.push("Output: perlu membuat SIM");
                }
            } else {
                outputNested.innerHTML = "Usia belum memenuhi syarat mengemudi.";
                steps.push("Output: belum memenuhi syarat");
            }

            traceNested.innerHTML = steps.map(x => `<li>${x}</li>`).join("");
        }
        age.addEventListener("input", renderNested);
        hasSim.addEventListener("change", renderNested);
        renderNested();

        document.getElementById("randomCase").addEventListener("click", () => {
            age.value = String(Math.floor(Math.random() * 16) + 10); // 10..25
            hasSim.checked = Math.random() > 0.5;
            renderNested();
        });
        document.getElementById("showRule").addEventListener("click", () => {
            ruleBox.innerHTML = `
        <div class="rounded-xl border border-slate-200 bg-white p-3">
          <div class="text-sm font-semibold">Aturan keputusan</div>
          <div class="mt-1 text-sm text-slate-700">
            Jika usia &lt; 17 ‚Üí <b>tidak boleh mengemudi</b>.<br/>
            Jika usia ‚â• 17 dan punya_sim = False ‚Üí <b>buat SIM dulu</b>.<br/>
            Jika usia ‚â• 17 dan punya_sim = True ‚Üí <b>boleh mengemudi</b>.
          </div>
        </div>`;
        });

        // ---------- Slide 3: Multi-branch simulator ----------
        const score = document.getElementById("score");
        const scoreVal = document.getElementById("scoreVal");
        const gradeOut = document.getElementById("gradeOut");
        const branchActive = document.getElementById("branchActive");
        const branchWhy = document.getElementById("branchWhy");
        function renderGrade() {
            const n = Number(score.value);
            scoreVal.textContent = n;
            let pred = "D", cabang = "else", why = `Karena ${n} < 70`;
            if (n >= 90) { pred = "A"; cabang = "if nilai >= 90"; why = `Karena ${n} ‚â• 90`; }
            else if (n >= 80) { pred = "B"; cabang = "elif nilai >= 80"; why = `Karena 80 ‚â§ ${n} < 90`; }
            else if (n >= 70) { pred = "C"; cabang = "elif nilai >= 70"; why = `Karena 70 ‚â§ ${n} < 80`; }
            gradeOut.textContent = pred;
            branchActive.textContent = cabang;
            branchWhy.textContent = why;
        }
        score.addEventListener("input", renderGrade);
        renderGrade();

        // ---------- Slide 4: Decision tree interactive ----------
        let tree = { step1: null, step2: null, step3: null };
        const treePath = document.getElementById("treePath");
        const treeHint = document.getElementById("treeHint");
        const treeResult = document.getElementById("treeResult");
        const py3 = document.getElementById("py3");

        function updateTree() {
            const s1 = tree.step1, s2 = tree.step2, s3 = tree.step3;
            const parts = [];
            if (s1) parts.push(`Node1: Akun=${s1}`);
            if (s2) parts.push(`Node2: Password=${s2}`);
            if (s3) parts.push(`Node3: Premium=${s3}`);
            treePath.textContent = parts.length ? parts.join(" ‚Üí ") : "‚Äî";

            // Determine result
            let result = "‚Äî";
            let hint = "Mulai dari Node 1.";
            if (!s1) {
                hint = "Pilih Node 1 dulu.";
            } else if (s1 === "Tidak") {
                result = "Daftar Akun Baru";
                hint = "Selesai di Node 1 (langsung hasil).";
            } else if (!s2) {
                hint = "Lanjut pilih Node 2.";
            } else if (s2 === "Tidak") {
                result = "Tampilkan pesan error (password salah)";
                hint = "Selesai di Node 2.";
            } else if (!s3) {
                hint = "Lanjut pilih Node 3.";
            } else {
                result = (s3 === "Ya") ? "Akses penuh (premium)" : "Akses standar";
                hint = "Selesai di Node 3.";
            }
            treeResult.textContent = result;
            treeHint.textContent = hint;

            // Generate python
            if (!s1) {
                py3.textContent = "# Klik pilihan di tree dulu untuk menghasilkan kode :)";
                return;
            }
            const akun = (s1 === "Ya");
            const pass = (s2 === "Ya");
            const prem = (s3 === "Ya");
            const code = `punya_akun = ${akun}
password_benar = ${s2 ? pass : "True"}  # pilih Node2 untuk ubah
premium = ${s3 ? prem : "False"}        # pilih Node3 untuk ubah

if not punya_akun:
    print("Daftar akun baru")
elif not password_benar:
    print("Tampilkan pesan error")
elif premium:
    print("Akses penuh (premium)")
else:
    print("Akses standar")`;
            py3.textContent = code;
        }

        document.querySelectorAll(".treeBtn").forEach(btn => {
            btn.addEventListener("click", () => {
                const step = btn.dataset.step;
                const val = btn.dataset.val;
                if (step === "1") { tree.step1 = val; if (val === "Tidak") { tree.step2 = null; tree.step3 = null; } }
                if (step === "2") { if (tree.step1 !== "Ya") return; tree.step2 = val; if (val === "Tidak") { tree.step3 = null; } }
                if (step === "3") { if (tree.step1 !== "Ya" || tree.step2 !== "Ya") return; tree.step3 = val; }
                updateTree();
            });
        });

        document.getElementById("autoTree").addEventListener("click", () => {
            tree = { step1: "Ya", step2: "Ya", step3: "Tidak" };
            updateTree();
        });
        document.getElementById("resetTree").addEventListener("click", () => {
            tree = { step1: null, step2: null, step3: null };
            updateTree();
        });
        updateTree();

        // ---------- Slide 5: Bug explain ----------
        const bugExplain = document.getElementById("bugExplain");
        document.querySelectorAll(".bugOpt").forEach(b => {
            b.addEventListener("click", () => {
                const k = b.dataset.bug;
                bugExplain.className = "mt-3 text-sm font-medium text-slate-800";
                if (k === "indent") bugExplain.textContent =
                    "‚úÖ Benar. Pengecekan SIM harusnya ada di dalam blok 'if usia >= 17'. Jika tidak, program tetap mengecek SIM walau usia belum cukup.";
                if (k === "logic") bugExplain.textContent =
                    "‚úÖ Sebagian benar. 'else' menempel ke 'if punya_sim', tetapi masalah utamanya adalah struktur if yang terpisah dari pengecekan usia.";
                if (k === "both") bugExplain.textContent =
                    "‚úÖ Tepat. Struktur if terpisah membuat logika salah dan mudah memunculkan output yang tidak sesuai kasus.";
            });
        });

        // Challenge answer
        document.getElementById("challengeBtn").addEventListener("click", () => {
            document.getElementById("challengeAns").textContent =
                "Saat usia ‚â• 17 tetapi punya_sim = False (atau pengecekan SIM dilakukan setelah lolos usia).";
        });

        // ---------- Slide 6: Refactor hint ----------
        document.getElementById("showRefactorHint").addEventListener("click", () => {
            document.getElementById("refactorHint").classList.toggle("hidden");
        });

        // Exit-early order picker
        const orderList = document.getElementById("orderList");
        const orderFb = document.getElementById("orderFb");
        let order = [];
        document.querySelectorAll(".pick").forEach(ch => {
            ch.addEventListener("click", () => {
                const key = ch.dataset.key;
                if (order.includes(key)) return;
                order.push(key);
                orderList.innerHTML = order.map(k => {
                    if (k === "akun") return "<li>Tidak punya akun</li>";
                    if (k === "pass") return "<li>Password salah</li>";
                    return "<li>Bukan premium</li>";
                }).join("");
                orderFb.textContent = "Klik Cek untuk menilai urutanmu.";
            });
        });
        document.getElementById("resetOrder").addEventListener("click", () => {
            order = [];
            orderList.innerHTML = "";
            orderFb.textContent = "Klik chip di atas.";
        });
        document.getElementById("checkOrder").addEventListener("click", () => {
            const correct = ["akun", "pass", "premium"];
            const ok = order.length === 3 && order.every((v, i) => v === correct[i]);
            orderFb.textContent = ok
                ? "‚úÖ Mantap! Penolakan cepat: tidak punya akun ‚Üí password salah. Premium bukan penolakan (masih bisa akses standar)."
                : "‚ùå Coba lagi. Ingat: 'bukan premium' bukan gagal awal.";
        });

        // ---------- Slide 7: Quiz ----------
        let quizScore = 0;
        const scoreBox = document.getElementById("quizScore");
        const answered = new Set();
        document.querySelectorAll(".quizOpt").forEach(btn => {
            btn.addEventListener("click", () => {
                const q = btn.dataset.q;
                if (answered.has(q)) return; // one attempt per question
                answered.add(q);

                const ok = btn.dataset.correct === "true";
                if (ok) quizScore += 1;
                scoreBox.textContent = quizScore;

                // feedback
                const fb = document.getElementById("qfb" + q);
                fb.className = "mt-2 text-sm font-medium " + (ok ? "text-emerald-700" : "text-rose-700");
                fb.textContent = ok ? "‚úÖ Benar" : "‚ùå Salah";

                // visually mark
                btn.classList.add(ok ? "bg-emerald-50" : "bg-rose-50");
                btn.classList.add(ok ? "border-emerald-200" : "border-rose-200");
            });
        });

        // init
        show(0);
    </script>
</body>

</html>